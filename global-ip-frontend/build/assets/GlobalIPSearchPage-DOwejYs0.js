import{u as b,r as o,j as e,b as p,m as g}from"./index-BbdKGyFO.js";import{S as y}from"./Sidebar-i27tk-Tt.js";import{m as d}from"./proxy-D3LmmJeF.js";import{X as f}from"./x-BD8jR-FZ.js";import{S as j}from"./search-BeavGINr.js";import"./users-D5aJHt4s.js";import"./chart-column-ulK0xHEq.js";import"./file-text-CZhUgEQo.js";import"./download-5qXpfTS0.js";function P(){const m=b(),[l,h]=o.useState(""),[t,i]=o.useState(!1),[n,s]=o.useState(null),c=async()=>{const a=l.trim();if(!a){s("Keyword is required");return}i(!0),s(null);try{const r=await g.search({keyword:a});console.log("Search response:",r),console.log("Trademarks in response:",r.trademarks),r.trademarks&&r.trademarks.length>0&&(console.log("First trademark object:",r.trademarks[0]),console.log("First trademark keys:",Object.keys(r.trademarks[0])));const x=parseInt(localStorage.getItem("searchQueryCount")||"0",10);localStorage.setItem("searchQueryCount",(x+1).toString()),m("/search/results",{state:{patents:r.patents,trademarks:r.trademarks}})}catch(r){console.error("Unified search error:",r),r.response?.status===400?s("Keyword is required"):r.response?.status===500?s("An error occurred while searching. Please try again later."):s(r.response?.data?.message??"Failed to search. Please try again.")}finally{i(!1)}},u=a=>{a.key==="Enter"&&!t&&c()};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-slate-50 to-blue-100 relative overflow-hidden",children:e.jsxs("div",{className:"relative z-10 flex",children:[e.jsx(y,{}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs(d.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsx("h1",{className:"text-4xl text-blue-900 mb-2",children:"Search"}),e.jsx("p",{className:"text-slate-600",children:"Search for patents and trademarks across multiple jurisdictions"})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-xl rounded-2xl p-8 border border-blue-200/50 hover:border-blue-300/50 transition-all shadow-xl mb-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl text-slate-900 mb-1",children:"Quick IP Search"}),e.jsx("p",{className:"text-slate-600",children:"Fast keyword-based patent search across all jurisdictions"})]}),n&&e.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 flex items-center justify-between",children:[e.jsx("span",{children:n}),e.jsx("button",{onClick:()=>s(null),className:"text-red-500 hover:text-red-700",children:e.jsx(f,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",placeholder:"Enter keyword (e.g., artificial intelligence, battery technology)...",value:l,onChange:a=>h(a.target.value),onKeyDown:u,disabled:t,className:"flex-1 px-4 py-3 bg-white border border-blue-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-slate-900 placeholder:text-slate-400 disabled:opacity-50"}),e.jsx("button",{onClick:c,disabled:t||!l.trim(),className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl flex items-center gap-2 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:t?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"w-5 h-5 animate-spin"}),"Searching..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-5 h-5"}),"Search"]})})]})]})]})})]})})}export{P as GlobalIPSearchPage};
