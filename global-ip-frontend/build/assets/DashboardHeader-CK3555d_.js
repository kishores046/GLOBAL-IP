import{r as i,u as j,f as w,a as v,R as r,j as e,x as f}from"./index-BbdKGyFO.js";import{L as g,B as D,a as A}from"./users-D5aJHt4s.js";import{C as N}from"./chevron-down-CAl0sHJA.js";import{G as S}from"./globe-CjcR3HKJ.js";function y(){const[c,o]=i.useState(!1),n=i.useRef(null),h=j(),l=w(),{hasRole:d}=v();i.useEffect(()=>{function s(t){n.current&&!n.current.contains(t.target)&&o(!1)}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const a=[];if(d(r.ADMIN)&&a.push({role:r.ADMIN,label:"Admin Dashboard",path:f.ADMIN_DASHBOARD,description:"System management & controls"}),d(r.ANALYST)&&a.push({role:r.ANALYST,label:"Analyst Dashboard",path:f.ANALYST_DASHBOARD,description:"Advanced analytics & insights"}),d(r.USER)&&a.push({role:r.USER,label:"User Dashboard",path:f.USER_DASHBOARD,description:"IP search & tracking"}),a.length<=1)return null;const u=l.pathname.startsWith("/admin")||l.pathname.includes("/dashboard/admin")?a.find(s=>s.role===r.ADMIN):l.pathname.startsWith("/analyst")||l.pathname.includes("/dashboard/analyst")?a.find(s=>s.role===r.ANALYST):l.pathname.startsWith("/user")||l.pathname.includes("/dashboard/user")?a.find(s=>s.role===r.USER):a[0],b=s=>{o(!1),h(s)},x=(s,t)=>t?"bg-blue-500":s.role===r.ADMIN?"bg-purple-500":s.role===r.ANALYST?"bg-green-500":"bg-blue-500";return e.jsxs("div",{className:"relative",ref:n,children:[e.jsxs("button",{onClick:()=>o(!c),className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 hover:border-blue-300 hover:bg-blue-50 rounded-lg transition-all shadow-sm",children:[e.jsx(g,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-slate-700 font-medium hidden md:inline",children:u?.label??"Dashboard"}),e.jsx(N,{className:`w-4 h-4 text-slate-500 transition-transform ${c?"rotate-180":""}`})]}),c&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl border border-slate-200 shadow-xl overflow-hidden z-50",children:[e.jsx("div",{className:"p-3 border-b border-slate-200 bg-slate-50",children:e.jsx("p",{className:"text-sm text-slate-600",children:"Switch Dashboard"})}),e.jsx("div",{className:"py-2",children:a.map(s=>{const t=u?.role===s.role;return e.jsx("button",{onClick:()=>b(s.path),disabled:t,className:`w-full text-left px-4 py-3 transition-all ${t?"bg-blue-50 cursor-default":"hover:bg-slate-50"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${x(s,t)}`,children:e.jsx(g,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:`font-medium ${t?"text-blue-900":"text-slate-900"}`,children:[s.label,t&&e.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full",children:"Current"})]}),e.jsx("div",{className:"text-sm text-slate-500",children:s.description})]})]})},s.role)})}),e.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:e.jsxs("p",{className:"text-xs text-slate-500",children:["You have access to ",a.length," dashboard",a.length>1?"s":""]})})]})]})}function E({userName:c}){const[o,n]=i.useState(!1),[h,l]=i.useState(!1),d=i.useRef(null),a=i.useRef(null),m=j();i.useEffect(()=>{function t(p){d.current&&!d.current.contains(p.target)&&n(!1),a.current&&!a.current.contains(p.target)&&l(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const u=()=>{n(!1),m("/settings")},b=()=>{n(!1),m("/login")},x=[{id:1,type:"alert",message:"Patent US11234567B2 status changed to Granted",time:"2 mins ago",unread:!0},{id:2,type:"update",message:"New competitor filing detected",time:"1 hour ago",unread:!0},{id:3,type:"reminder",message:"Trademark renewal deadline approaching",time:"3 hours ago",unread:!1},{id:4,type:"alert",message:"Legal deadline for EP3456789A1",time:"1 day ago",unread:!1}],s=x.filter(t=>t.unread).length;return e.jsx("header",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(S,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-900 text-xl block",children:"IPIntel"}),e.jsx("span",{className:"text-slate-500 text-xs",children:"Intelligence Platform"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{}),e.jsxs("div",{className:"hidden md:block text-slate-600",children:["Welcome, ",e.jsx("span",{className:"text-blue-900",children:c})]}),e.jsxs("div",{className:"relative",ref:a,children:[e.jsxs("button",{onClick:()=>l(!h),className:"p-2 hover:bg-slate-100 rounded-lg transition-all relative",children:[e.jsx(D,{className:"w-6 h-6 text-slate-600"}),s>0&&e.jsx("span",{className:"absolute top-1 right-1 w-5 h-5 bg-red-500 rounded-full text-white text-xs flex items-center justify-center",children:s})]}),h&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl border border-slate-200 shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:[e.jsx("h3",{className:"text-slate-900",children:"Notifications"}),e.jsxs("p",{className:"text-sm text-slate-600",children:[s," unread notifications"]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:x.map(t=>e.jsx("div",{className:`p-4 border-b border-slate-100 hover:bg-slate-50 transition-all cursor-pointer ${t.unread?"bg-blue-50":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${t.unread?"bg-blue-500":"bg-slate-300"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-slate-900 text-sm",children:t.message}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:t.time})]})]})},t.id))}),e.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50",children:e.jsx("button",{className:"w-full text-center text-sm text-blue-600 hover:text-blue-700 transition-all",children:"View all notifications"})})]})]}),e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>n(!o),className:"flex items-center gap-2 px-3 py-2 hover:bg-slate-100 rounded-lg transition-all cursor-pointer border border-slate-200 bg-white",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(A,{className:"w-5 h-5 text-white"})}),e.jsx(N,{className:`w-4 h-4 text-slate-600 transition-all ${o?"rotate-180":""}`})]}),o&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl border border-slate-200 shadow-xl overflow-hidden",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 text-slate-700 hover:bg-blue-50 rounded-lg transition-all text-left",children:[e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:"Settings"})]}),e.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-all text-left",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e.jsx("span",{children:"Logout"})]})]})})]})]})]})})}export{E as D};
