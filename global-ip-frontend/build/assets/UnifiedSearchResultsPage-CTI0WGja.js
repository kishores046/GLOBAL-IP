import{f as L,u as B,r as j,j as e}from"./index-BbdKGyFO.js";import{S as F}from"./Sidebar-i27tk-Tt.js";import{m as V}from"./trademarkUtils-B7jiUD2Q.js";import{m as x}from"./proxy-D3LmmJeF.js";import{S as P}from"./search-BeavGINr.js";import{C as D}from"./calendar-DIk46_Ka.js";import{B as _}from"./building-DYb4Ex7D.js";import{a as O,U as G}from"./users-D5aJHt4s.js";import{E as S}from"./eye-C4i9w_9f.js";import{C as T,a as $}from"./chevron-right-CQmTrNK7.js";import{M as q}from"./map-pin-CW1mFAl4.js";import"./chart-column-ulK0xHEq.js";import"./file-text-CZhUgEQo.js";import"./download-5qXpfTS0.js";const h=50,z=n=>n.trademarkId||n.id||n.applicationNumber||n.registrationNumber||n.tmNumber||n.number||"";function re(){const n=L(),u=B(),{patents:i=[],trademarks:r=[]}=n.state??{},E=()=>i.length>0?"patents":r.length>0?"trademarks":"patents",[b,I]=j.useState(E()),[o,p]=j.useState(1),[c,g]=j.useState(1),d=Math.ceil(i.length/h),f=(o-1)*h,y=f+h,M=i.slice(f,y),m=Math.ceil(r.length/h),N=(c-1)*h,k=N+h,U=r.slice(N,k),C=s=>{I(s),s==="patents"?p(1):g(1)};j.useEffect(()=>{i.length===0&&r.length===0&&u("/search")},[i,r,u]);const A=s=>{u(`/patents/${s}`)},R=s=>{if(console.log("Navigating to trademark details with ID:",s),!s||s.trim()===""){console.error("Empty trademark ID provided"),alert("Cannot view trademark details: The trademark ID is missing from the search results. This may indicate an issue with the backend response.");return}u(`/trademarks/${encodeURIComponent(s)}`)},w=s=>{if(!s)return"—";try{return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return s}},v=(s,t=2)=>{if(!s||s.length===0)return e.jsx("span",{className:"text-slate-400 italic",children:"Not disclosed"});if(s.length<=t)return s.join(", ");const a=s.slice(0,t),l=s.length-t;return`${a.join(", ")} +${l} more`};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-slate-50 to-blue-100",children:e.jsxs("div",{className:"flex",children:[e.jsx(F,{}),e.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:"text-4xl font-bold text-blue-900 mb-2",children:"Search Results"}),e.jsx("p",{className:"text-slate-600",children:"Unified search results across patents and trademarks"})]}),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/70 backdrop-blur-xl rounded-2xl p-2 border border-blue-200/50 shadow-lg inline-flex gap-2",children:[e.jsxs("button",{onClick:()=>C("patents"),className:`px-6 py-3 rounded-xl font-medium transition-all ${b==="patents"?"bg-blue-600 text-white shadow-md":"text-slate-600 hover:bg-blue-50"}`,children:["Patents (",i.length,")"]}),e.jsxs("button",{onClick:()=>C("trademarks"),className:`px-6 py-3 rounded-xl font-medium transition-all ${b==="trademarks"?"bg-blue-600 text-white shadow-md":"text-slate-600 hover:bg-blue-50"}`,children:["Trademarks (",r.length,")"]})]}),b==="patents"&&e.jsx("div",{className:"space-y-6",children:i.length===0?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/70 backdrop-blur-xl rounded-2xl p-12 border border-blue-200/50 shadow-lg text-center",children:[e.jsx(P,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 text-lg",children:"No patents found"}),e.jsx("p",{className:"text-slate-400 mt-2",children:"Try adjusting your search criteria"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-xl rounded-xl p-4 border border-blue-200/50 shadow-sm",children:e.jsxs("p",{className:"text-slate-600",children:["Showing ",f+1,"-",Math.min(y,i.length)," of ",i.length," patents",d>1&&` • Page ${o} of ${d}`]})}),e.jsx("div",{className:"space-y-4",children:M.map((s,t)=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+t*.05},className:"bg-white/70 backdrop-blur-xl rounded-2xl p-6 border border-blue-200/50 hover:border-blue-300/50 transition-all shadow-lg hover:shadow-xl",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-semibold text-blue-900 mb-2",children:s.title||"Untitled Patent"}),e.jsxs("p",{className:"text-slate-600 text-sm",children:["Patent ID: ",s.publicationNumber]})]}),e.jsx("span",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-full text-sm font-medium ml-4",children:s.jurisdiction})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Filing Date"}),e.jsxs("p",{className:"text-slate-900 font-medium",children:[w(s.filingDate),s.grantDate&&` → ${w(s.grantDate)}`]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Assignees"}),e.jsx("p",{className:"text-slate-900",children:v(s.assignees)})]})]}),e.jsxs("div",{className:"flex items-start gap-3 md:col-span-2",children:[e.jsx(O,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Inventors"}),e.jsx("p",{className:"text-slate-900",children:v(s.inventors)})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-blue-100",children:e.jsxs("button",{onClick:()=>A(s.publicationNumber),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all flex items-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(S,{className:"w-4 h-4"}),"View Details"]})})]},s.publicationNumber))}),d>1&&e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/70 backdrop-blur-xl rounded-xl p-4 border border-blue-200/50 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>p(s=>Math.max(1,s-1)),disabled:o===1,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${o===1?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-md"}`,children:[e.jsx(T,{className:"w-4 h-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:d},(s,t)=>t+1).filter(s=>s===1||s===d||Math.abs(s-o)<=2).map((s,t,a)=>{const l=t>0&&s-a[t-1]>1;return e.jsxs("div",{className:"flex items-center gap-2",children:[l&&e.jsx("span",{className:"text-slate-400 px-2",children:"..."}),e.jsx("button",{onClick:()=>p(s),className:`w-10 h-10 rounded-lg font-medium transition-all ${o===s?"bg-blue-600 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:s})]},s)})}),e.jsxs("button",{onClick:()=>p(s=>Math.min(d,s+1)),disabled:o===d,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${o===d?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-md"}`,children:["Next",e.jsx($,{className:"w-4 h-4"})]})]})})]})}),b==="trademarks"&&e.jsx("div",{className:"space-y-6",children:r.length===0?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/70 backdrop-blur-xl rounded-2xl p-12 border border-blue-200/50 shadow-lg text-center",children:[e.jsx(P,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 text-lg",children:"No trademarks found"}),e.jsx("p",{className:"text-slate-400 mt-2",children:"Try adjusting your search criteria"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-xl rounded-xl p-4 border border-blue-200/50 shadow-sm",children:e.jsxs("p",{className:"text-slate-600",children:["Showing ",N+1,"-",Math.min(k,r.length)," of ",r.length," trademarks",m>1&&` • Page ${c} of ${m}`]})}),e.jsx("div",{className:"space-y-4",children:U.map((s,t)=>{const a=z(s),l=V(s.statusCode,s.status);return t===0&&(console.log("Trademark object:",s),console.log("Extracted ID:",a),console.log("Available fields:",Object.keys(s)),console.log("Status mapping:",l)),e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+t*.05},className:"bg-white/70 backdrop-blur-xl rounded-2xl p-6 border border-blue-200/50 hover:border-blue-300/50 transition-all shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-semibold text-blue-900 mb-2",children:s.markName}),e.jsxs("p",{className:"text-slate-600 text-sm",children:["ID: ",a]})]}),e.jsx("div",{className:"flex flex-col gap-2 ml-4",children:(s.statusCode||s.status)&&e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium text-center ${l.badgeColor}`,title:l.description,children:l.displayLabel})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Filing Date"}),e.jsx("p",{className:"text-slate-900 font-medium",children:w(s.filingDate)})]})]}),s.state&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(q,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"State"}),e.jsx("p",{className:"text-slate-900 font-medium",children:s.state})]})]}),s.owners&&s.owners.length>0&&e.jsxs("div",{className:"flex items-start gap-3 md:col-span-2",children:[e.jsx(G,{className:"w-5 h-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Owners"}),e.jsx("p",{className:"text-slate-900",children:v(s.owners)})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 mt-4",children:e.jsxs("button",{onClick:()=>R(a),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all flex items-center gap-2 shadow-md hover:shadow-lg",children:[e.jsx(S,{className:"w-4 h-4"}),"View Details"]})})]},a||t)})}),m>1&&e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white/70 backdrop-blur-xl rounded-xl p-4 border border-blue-200/50 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>g(s=>Math.max(1,s-1)),disabled:c===1,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${c===1?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-md"}`,children:[e.jsx(T,{className:"w-4 h-4"}),"Previous"]}),e.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:m},(s,t)=>t+1).filter(s=>s===1||s===m||Math.abs(s-c)<=2).map((s,t,a)=>{const l=t>0&&s-a[t-1]>1;return e.jsxs("div",{className:"flex items-center gap-2",children:[l&&e.jsx("span",{className:"text-slate-400 px-2",children:"..."}),e.jsx("button",{onClick:()=>g(s),className:`w-10 h-10 rounded-lg font-medium transition-all ${c===s?"bg-blue-600 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:s})]},s)})}),e.jsxs("button",{onClick:()=>g(s=>Math.min(m,s+1)),disabled:c===m,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${c===m?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-md"}`,children:["Next",e.jsx($,{className:"w-4 h-4"})]})]})})]})})]})})]})})}export{re as UnifiedSearchResultsPage};
