import{e as o,l as D,r as l,j as e,b as F}from"./index-BbdKGyFO.js";import{X as $}from"./x-BD8jR-FZ.js";import{C as B}from"./circle-alert-DdFSup5D.js";import{C as w}from"./circle-check-big-CAMtQ4aA.js";import{B as q}from"./users-D5aJHt4s.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Q=o("copy",G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],Z=o("radio",V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H=o("square-check-big",U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ee=o("tag",O),n=D.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(s=>{const t=localStorage.getItem("jwt_token");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));const v={trackPatent:async s=>{console.log("[Tracking API] POST /api/analyst/patents/lifecycle with payload:",s);try{const t=await n.post("/api/analyst/patents/lifecycle",s);return console.log("[Tracking API] Patent tracking response:",t.data),t.data}catch(t){throw console.error("[Tracking API] Error tracking patent:",t),t}},trackTrademark:async s=>{console.log("[Tracking API] POST /api/analyst/trademarks/lifecycle with payload:",s);try{const t=await n.post("/api/analyst/trademarks/lifecycle",s);return console.log("[Tracking API] Trademark tracking response:",t.data),t.data}catch(t){throw console.error("[Tracking API] Error tracking trademark:",t),t}},getPatentLifecycle:async s=>{console.log("[Lifecycle API] GET /api/analyst/patents/:publicationNumber/lifecycle");try{const t=await n.get(`/api/analyst/patents/${s}/lifecycle`);return console.log("[Lifecycle API] Patent lifecycle data:",t.data),t.data}catch(t){throw console.error("[Lifecycle API] Error fetching patent lifecycle:",t),t}},getTrademarkLifecycle:async s=>{console.log("[Lifecycle API] GET /api/analyst/trademarks/:trademarkId/lifecycle");try{const t=await n.get(`/api/analyst/trademarks/${s}/lifecycle`);return console.log("[Lifecycle API] Trademark lifecycle data:",t.data),t.data}catch(t){throw console.error("[Lifecycle API] Error fetching trademark lifecycle:",t),t}},getTrackedPatents:async()=>{try{return(await n.get("/api/analyst/patents/lifecycle")).data}catch(s){throw console.error("[Lifecycle API] Error fetching tracked patents:",s),s}},getTrackedTrademarks:async()=>{try{return(await n.get("/api/analyst/trademarks/lifecycle")).data}catch(s){throw console.error("[Lifecycle API] Error fetching tracked trademarks:",s),s}}};function te({isOpen:s,onClose:t,type:r,externalId:x,title:m,jurisdiction:d="US",filingDate:h,currentStatus:p,source:P="PATENTSVIEW",onTrackingSuccess:E}){const[c,b]=l.useState(!1),[u,g]=l.useState(null),[i,k]=l.useState(!1),[f,A]=l.useState(!0),[y,C]=l.useState(!0),[j,L]=l.useState(!0),[N,S]=l.useState(!0),[T,I]=l.useState(!1),M=async()=>{b(!0),g(null);try{const a={externalId:x,type:r,jurisdiction:d||"US",source:P,trackLifecycle:f,trackRenewals:y,trackStatusChanges:j,enableAlerts:N,enableEmailNotifications:T};r==="PATENT"?await v.trackPatent(a):await v.trackTrademark(a),k(!0),E?.(),setTimeout(()=>{t(),k(!1)},2e3)}catch(a){const z=a instanceof Error?a.message:"Failed to enable tracking";g(z),console.error("Tracking error:",a)}finally{b(!1)}};if(!s)return null;const _=r==="PATENT"?"Track Patent Lifecycle":"Track Trademark Lifecycle",R=r==="PATENT"?"Patent Status":"Trademark Status";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:t}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between border-b border-blue-800",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:_}),e.jsx("button",{onClick:t,disabled:c,className:"text-white hover:bg-blue-800 rounded-lg p-1 transition-colors disabled:opacity-50",children:e.jsx($,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-sm uppercase tracking-wide",children:r==="PATENT"?"Patent Details":"Trademark Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:r==="PATENT"?"Publication Number":"Trademark ID"}),e.jsx("div",{className:"px-3 py-2 bg-white border border-slate-300 rounded text-slate-900 font-mono text-sm",children:x})]}),m&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:r==="PATENT"?"Title":"Name"}),e.jsx("div",{className:"px-3 py-2 bg-white border border-slate-300 rounded text-slate-900 text-sm line-clamp-2",children:m})]}),d&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Jurisdiction"}),e.jsx("div",{className:"px-3 py-2 bg-white border border-slate-300 rounded text-slate-900 text-sm font-medium",children:d})]}),h&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Filing Date"}),e.jsx("div",{className:"px-3 py-2 bg-white border border-slate-300 rounded text-slate-900 text-sm",children:new Date(h).toLocaleDateString()})]}),p&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:R}),e.jsx("div",{className:"px-3 py-2 bg-white border border-slate-300 rounded text-slate-900 text-sm",children:p})]})]})]}),u&&!i&&e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(B,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error"}),e.jsx("p",{className:"text-sm text-red-800",children:u})]})]}),i&&e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(w,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Success!"}),e.jsxs("p",{className:"text-sm text-green-800",children:[r==="PATENT"?"Patent":"Trademark"," tracking enabled."]})]})]}),!i&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 text-sm uppercase tracking-wide",children:"Tracking Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:a=>A(a.target.checked),disabled:c,className:"w-5 h-5 text-blue-600 rounded border-slate-300 cursor-pointer mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 text-sm",children:"Track Lifecycle Events"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Monitor filing, grant, expiration, and status changes"})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:a=>L(a.target.checked),disabled:c,className:"w-5 h-5 text-blue-600 rounded border-slate-300 cursor-pointer mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 text-sm",children:"Track Status Changes"}),e.jsxs("p",{className:"text-xs text-slate-600",children:["Get notified when ",r==="PATENT"?"patent status":"trademark status"," updates"]})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:a=>C(a.target.checked),disabled:c,className:"w-5 h-5 text-blue-600 rounded border-slate-300 cursor-pointer mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 text-sm",children:"Track Renewals & Expiry"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Monitor renewal deadlines and expiration dates"})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:a=>S(a.target.checked),disabled:c,className:"w-5 h-5 text-blue-600 rounded border-slate-300 cursor-pointer mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-900 text-sm flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Enable Dashboard Alerts"]}),e.jsx("p",{className:"text-xs text-slate-600",children:"Receive in-app notifications for important events"})]})]}),e.jsxs("label",{className:"flex items-start gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:T,onChange:a=>I(a.target.checked),disabled:c,className:"w-5 h-5 text-blue-600 rounded border-slate-300 cursor-pointer mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-900 text-sm",children:"Enable Email Notifications"}),e.jsx("p",{className:"text-xs text-slate-600",children:"Get email alerts for critical updates (optional)"})]})]})]})]}),!i&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-900",children:[e.jsx("strong",{children:"Note:"}),' Tracking is disabled by default. You must explicitly enable it by clicking "Confirm Tracking" below. No data will be collected until you do.']})})]}),e.jsxs("div",{className:"sticky bottom-0 bg-slate-50 px-6 py-4 border-t border-slate-200 flex gap-3 justify-end",children:[e.jsx("button",{onClick:t,disabled:c,className:"px-4 py-2 text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:"Cancel"}),e.jsx("button",{onClick:M,disabled:c||i,className:"flex items-center gap-2 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:c?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):i?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-4 h-4"}),"Tracking Enabled"]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4"}),"Confirm Tracking"]})})]})]})})]})}export{Q as C,Z as R,ee as T,te as a};
