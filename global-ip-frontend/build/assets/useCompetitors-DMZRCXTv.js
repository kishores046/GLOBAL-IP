import{e as l,k as o,r as i}from"./index-BbdKGyFO.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],g=l("building-2",u),h={async getAllCompetitors(t=!0){return(await o.get("/competitors",{params:{activeOnly:t}})).data},async syncFilings(t){return(await o.post("/competitors/filings/sync",null,{params:{fromDate:t}})).data},async getCompetitorById(t){return(await o.get(`/competitors/${t}`)).data},async getCompetitorByCode(t){return(await o.get(`/competitors/code/${t}`)).data},async createCompetitor(t){return(await o.post("/competitors",t)).data},async updateCompetitor(t,e){return(await o.put(`/competitors/${t}`,e)).data},async deleteCompetitor(t){await o.delete(`/competitors/${t}`)},async searchCompetitors(t){return(await o.get("/competitors/search",{params:{q:t}})).data},async getFilingSummary(){return(await o.get("/competitors/filings/summary")).data},async getMonthlyTrends(t){const e=t?{fromDate:t}:{},m=(await o.get("/competitors/filings/trends/monthly",{params:e})).data,n=[],c=new Map;try{(await this.getAllCompetitors()).forEach(r=>{c.set(r.code,r.name)})}catch(s){console.warn("Failed to fetch competitor names:",s)}for(const[s,r]of Object.entries(m))for(const[a,d]of Object.entries(r))n.push({competitorCode:s,month:a,filingCount:d,competitorName:c.get(s)||s});return n.sort((s,r)=>s.month.localeCompare(r.month)),n},async searchFilings(t){return(await o.post("/competitors/filings/search",t)).data}};function f(t=!0){const[e,p]=i.useState([]),[m,n]=i.useState(!0),[c,s]=i.useState(null),r=async()=>{try{n(!0),s(null);const a=await h.getAllCompetitors(t);p(a)}catch(a){const d=a instanceof Error?a.message:"Failed to load competitors";s(d),console.error("Error fetching competitors:",a)}finally{n(!1)}};return i.useEffect(()=>{r()},[t]),{competitors:e,isLoading:m,error:c,refetch:r}}export{g as B,h as c,f as u};
