import{u as n,d as u,a as d,r as h,c as i,j as s,b as m}from"./index-BbdKGyFO.js";function x(){const e=n(),[t]=u(),{refreshUser:o}=d();return h.useEffect(()=>{const c=t.get("token");c?(i.handleOAuthSuccess(c),i.getUserProfile().then(a=>{o().catch(console.error);const r=a?.roles?.[0],l=(typeof r=="string"?r:r?.roleType)?.toLowerCase()||"user";l==="admin"?e("/dashboard/admin",{replace:!0}):l==="analyst"?e("/dashboard/analyst",{replace:!0}):e("/dashboard/user",{replace:!0})}).catch(a=>{console.error("Failed to fetch user profile:",a),e("/dashboard/user",{replace:!0})})):e("/login",{replace:!0})},[t,e,o]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-slate-50 to-blue-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(m,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold text-blue-900 mb-2",children:"Completing sign in..."}),s.jsx("p",{className:"text-slate-600",children:"Please wait while we redirect you to your dashboard"})]})})}export{x as OAuthSuccessPage};
