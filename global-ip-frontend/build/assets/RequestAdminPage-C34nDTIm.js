import{u as g,a as f,r as i,R as p,t as a,j as e}from"./index-BbdKGyFO.js";import{r as N}from"./roleRequestService-DwTJaFzP.js";import{A as u}from"./arrow-left-CcfEOmOD.js";import{S as h}from"./shield-CoTmmyQ6.js";import{C as s}from"./circle-check-big-CAMtQ4aA.js";import{C as w}from"./circle-alert-DdFSup5D.js";function S(){const l=g(),{user:r,hasRole:n}=f(),[d,c]=i.useState(!1),[b,m]=i.useState(!1);i.useEffect(()=>{n(p.ADMIN)&&(a.info("You already have admin access"),l("/dashboard/admin",{replace:!0}))},[n,l]);const j=async()=>{c(!0);try{const t=await N.requestAdminRole();a.success(t.message||"Admin role request submitted successfully!"),m(!0)}catch(t){const x=t.response?.data?.message||t.message||"Failed to submit request";x.includes("already pending")?(a.warning("You already have a pending admin request"),m(!0)):a.error(x)}finally{c(!1)}},o=()=>{l("/dashboard/user")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-slate-50 to-blue-100 flex items-center justify-center p-6",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-xl p-8 md:p-12",children:[e.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-slate-600 hover:text-blue-600 transition-colors mb-6",children:[e.jsx(u,{className:"w-5 h-5"}),"Back to Dashboard"]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(h,{className:"w-10 h-10 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-blue-900 text-center mb-4",children:"Request Admin Access"}),b?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(s,{className:"w-8 h-8 text-green-600"})})}),e.jsx("h2",{className:"text-2xl font-bold text-green-900 mb-2",children:"Request Submitted!"}),e.jsx("p",{className:"text-slate-700 mb-4",children:"Your admin role request has been submitted successfully."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left",children:[e.jsx("p",{className:"text-sm text-slate-700",children:e.jsx("strong",{children:"What happens next?"})}),e.jsxs("ul",{className:"text-sm text-slate-700 mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"An administrator will review your request"}),e.jsx("li",{children:"You'll be notified of the decision via email"}),e.jsx("li",{children:"If approved, your role will be updated automatically"})]})]})]}),e.jsxs("button",{onClick:o,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2",children:[e.jsx(u,{className:"w-5 h-5"}),"Back to Dashboard"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsx("p",{className:"text-slate-700 text-center",children:"Requesting admin access will grant you elevated permissions to manage the platform."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Admin Privileges Include:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-slate-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(s,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"User management and role assignment"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(s,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"API health monitoring and configuration"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(s,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"System settings and data synchronization"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(s,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Usage logs and analytics access"})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-amber-900 mb-1",children:"Important Notice"}),e.jsx("p",{className:"text-sm text-slate-700",children:"Your request will be reviewed by an administrator. You will be notified once your request is processed. Admin access will not be granted immediately."})]})]})})]}),r&&e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Requesting as:"}),e.jsx("p",{className:"font-semibold text-blue-900",children:r.username||r.email}),e.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Current Role: ",e.jsx("span",{className:"font-medium text-slate-900",children:"USER"})]})]}),e.jsx("button",{onClick:j,disabled:d,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting Request..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-5 h-5"}),"Request Admin Access"]})})]})]})})})}export{S as RequestAdminPage};
