import{u as N,r as n,j as e,b as v,L as x,t as c,c as y}from"./index-BbdKGyFO.js";import{U as T}from"./user-plus-DjJV9X3t.js";import{E}from"./eye-off-Dlsw8ufA.js";import{E as P}from"./eye-C4i9w_9f.js";function L(){const h=N(),[i,p]=n.useState(!1),[a,m]=n.useState(!1),[s,b]=n.useState({username:"",email:"",role:"USER",password:"",agreedToTerms:!1}),[r,u]=n.useState({}),g=()=>{const t={};return s.username.trim()?s.username.length<3&&(t.username="Username must be at least 3 characters"):t.username="Username is required",s.email.trim()?/\S+@\S+\.\S+/.test(s.email)||(t.email="Email is invalid"):t.email="Email is required",s.role||(t.role="Role is required"),s.password?s.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",s.agreedToTerms||(t.agreedToTerms="You must agree to the terms and conditions"),u(t),Object.keys(t).length===0},f=async t=>{if(t.preventDefault(),!g()){c.error("Please fix the errors in the form");return}m(!0);try{await y.register({username:s.username,email:s.email,role:s.role,password:s.password}),c.success("Registration successful! Please login with your credentials."),h("/login")}catch(d){const o=d.message||"Registration failed. Please try again.";c.error(o),u({general:o})}finally{m(!1)}},l=t=>{const{name:d,value:o,type:w}=t.target;b(j=>({...j,[d]:w==="checkbox"?t.target.checked:o}))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-slate-50 to-blue-100 flex items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-xl p-8 md:p-10",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(T,{className:"w-8 h-8 text-white"})})}),e.jsx("h1",{className:"text-3xl text-blue-900 text-center mb-2",children:"Create Your Account"}),e.jsx("p",{className:"text-slate-600 text-center mb-8",children:"Join the global IP intelligence community"}),r.general&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-600 text-sm",children:r.general})}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"username",name:"username",value:s.username,onChange:l,className:`w-full px-4 py-3 bg-white border ${r.username?"border-red-500":"border-slate-300"} rounded-lg text-slate-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all peer`,placeholder:"Username",required:!0,disabled:a}),e.jsx("label",{htmlFor:"username",className:"absolute left-3 -top-2.5 text-blue-700 text-sm bg-white px-2 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:top-3 peer-placeholder-shown:bg-transparent peer-focus:-top-2.5 peer-focus:text-sm peer-focus:bg-white",children:"Username"}),r.username&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.username})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:l,className:`w-full px-4 py-3 bg-white border ${r.email?"border-red-500":"border-slate-300"} rounded-lg text-slate-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all peer`,placeholder:"Email",required:!0,disabled:a}),e.jsx("label",{htmlFor:"email",className:"absolute left-3 -top-2.5 text-blue-700 text-sm bg-white px-2 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:top-3 peer-placeholder-shown:bg-transparent peer-focus:-top-2.5 peer-focus:text-sm peer-focus:bg-white",children:"Email"}),r.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.email})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"role",name:"role",value:s.role,onChange:l,className:`w-full px-4 py-3 bg-white border ${r.role?"border-red-500":"border-slate-300"} rounded-lg text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all appearance-none cursor-pointer`,required:!0,disabled:a,children:[e.jsx("option",{value:"USER",children:"User"}),e.jsx("option",{value:"ANALYST",children:"Analyst"})]}),e.jsx("label",{htmlFor:"role",className:"absolute left-3 -top-2.5 text-blue-700 text-sm bg-white px-2",children:"Register As"}),e.jsx("div",{className:"absolute right-4 top-3 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M19 9l-7 7-7-7"})})}),r.role&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.role})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:s.password,onChange:l,className:`w-full px-4 py-3 bg-white border ${r.password?"border-red-500":"border-slate-300"} rounded-lg text-slate-900 placeholder-transparent focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all peer pr-12`,placeholder:"Password",required:!0,disabled:a}),e.jsx("label",{htmlFor:"password",className:"absolute left-3 -top-2.5 text-blue-700 text-sm bg-white px-2 transition-all peer-placeholder-shown:text-base peer-placeholder-shown:top-3 peer-placeholder-shown:bg-transparent peer-focus:-top-2.5 peer-focus:text-sm peer-focus:bg-white",children:"Password"}),e.jsx("button",{type:"button",onClick:()=>p(!i),className:"absolute right-4 top-3 text-slate-500 hover:text-blue-600 transition-colors",disabled:a,children:i?e.jsx(E,{className:"w-5 h-5"}):e.jsx(P,{className:"w-5 h-5"})}),r.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:r.password})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",id:"agreedToTerms",name:"agreedToTerms",checked:s.agreedToTerms,onChange:l,className:`mt-1 w-4 h-4 text-blue-600 ${r.agreedToTerms?"border-red-500":"border-slate-300"} rounded focus:ring-2 focus:ring-blue-200`,required:!0,disabled:a}),e.jsxs("label",{htmlFor:"agreedToTerms",className:"text-sm text-slate-700",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700",children:"Terms and Conditions"})," ","and"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700",children:"Privacy Policy"})]})]}),r.agreedToTerms&&e.jsx("p",{className:"text-red-500 text-xs -mt-3",children:r.agreedToTerms}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating account..."]}):"Register"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-slate-600",children:["Already have an account?"," ",e.jsx(x,{to:"/login",className:"text-blue-600 hover:text-blue-700 transition-colors",children:"Login"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(x,{to:"/",className:"text-slate-600 hover:text-blue-600 transition-colors text-sm",children:"‚Üê Back to Home"})})]})})}export{L as RegistrationPage};
