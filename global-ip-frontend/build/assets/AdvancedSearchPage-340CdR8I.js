import{u as L,r as a,j as e,b as E,m as J}from"./index-BbdKGyFO.js";import{D as O}from"./DashboardHeader-CK3555d_.js";import{S as T}from"./Sidebar-i27tk-Tt.js";import{g as R,v as U}from"./trademarkUtils-B7jiUD2Q.js";import{S as D}from"./search-BeavGINr.js";import{X as q}from"./x-BD8jR-FZ.js";import{C as A}from"./calendar-DIk46_Ka.js";import"./users-D5aJHt4s.js";import"./chevron-down-CAl0sHJA.js";import"./globe-CjcR3HKJ.js";import"./chart-column-ulK0xHEq.js";import"./file-text-CZhUgEQo.js";import"./download-5qXpfTS0.js";function ee(){const P=L(),[n,g]=a.useState(""),[i,b]=a.useState("ALL"),[u,p]=a.useState(""),[m,f]=a.useState(""),[x,j]=a.useState(""),[h,v]=a.useState(""),[o,w]=a.useState(""),[d,N]=a.useState(""),[c,y]=a.useState(!1),[S,r]=a.useState(null),C=R(),F=async()=>{if(!n.trim()){r("Keyword is required");return}const s=U(o,d);if(!s.isValid){r(s.error||"Invalid date range");return}y(!0),r(null);try{const t={keyword:n.trim()};i&&i!=="ALL"&&(t.jurisdiction=i),o&&(t.filingDateFrom=o),d&&(t.filingDateTo=d),u.trim()&&(t.assignee=u.trim()),m.trim()&&(t.inventor=m.trim()),x.trim()&&(t.owner=x.trim()),h.trim()&&(t.state=h.trim());const k=await J.search(t),K=parseInt(localStorage.getItem("searchQueryCount")||"0",10);localStorage.setItem("searchQueryCount",(K+1).toString()),P("/search/results",{state:{patents:k.patents,trademarks:k.trademarks}})}catch(t){console.error("Unified search error:",t),t.response?.status===400?r("Keyword is required"):t.response?.status===500?r("An error occurred while searching. Please try again later."):r(t.response?.data?.message??"Failed to search. Please try again.")}finally{y(!1)}},I=()=>{g(""),b("ALL"),p(""),f(""),j(""),v(""),w(""),N(""),r(null)},l=s=>{s.key==="Enter"&&!c&&F()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-slate-50 to-blue-100",children:[e.jsx(O,{userName:"Analyst"}),e.jsxs("div",{className:"flex",children:[e.jsx(T,{}),e.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl text-blue-900 mb-2",children:"Advanced Search"}),e.jsx("p",{className:"text-slate-600",children:"Powerful search tools for comprehensive IP analysis"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl border border-blue-200 shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(D,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h2",{className:"text-2xl text-blue-900",children:"Advanced IP Search"})]}),S&&e.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 flex items-center justify-between",children:[e.jsx("span",{children:S}),e.jsx("button",{onClick:()=>r(null),className:"text-red-500 hover:text-red-700",children:e.jsx(q,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"keyword-input",className:"block text-slate-700 mb-2 font-medium",children:["Keyword ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"keyword-input",type:"text",placeholder:'e.g., "artificial intelligence", "battery technology"...',value:n,onChange:s=>g(s.target.value),onKeyDown:l,className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Search across patents and trademarks (required)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"jurisdiction-select",className:"block text-slate-700 mb-2 font-medium",children:"Jurisdiction"}),e.jsxs("select",{id:"jurisdiction-select",value:i,onChange:s=>b(s.target.value),className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"ALL",children:"All Jurisdictions"}),e.jsx("option",{value:"US",children:"United States (US)"}),e.jsx("option",{value:"EP",children:"European Patent Office (EP)"}),e.jsx("option",{value:"JP",children:"Japan (JP)"}),e.jsx("option",{value:"KR",children:"Korea (KR)"}),e.jsx("option",{value:"CN",children:"China (CN)"}),e.jsx("option",{value:"WO",children:"WIPO (WO)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"filing-date-from",className:"block text-slate-700 mb-2 font-medium",children:[e.jsx(A,{className:"inline w-4 h-4 mr-1"}),"Filing Date From"]}),e.jsx("input",{id:"filing-date-from",type:"date",value:o,max:C,onChange:s=>w(s.target.value),className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cannot be in the future"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"filing-date-to",className:"block text-slate-700 mb-2 font-medium",children:[e.jsx(A,{className:"inline w-4 h-4 mr-1"}),"Filing Date To"]}),e.jsx("input",{id:"filing-date-to",type:"date",value:d,max:C,onChange:s=>N(s.target.value),className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Cannot be in the future"})]})]}),e.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Patent Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"assignee-input",className:"block text-slate-700 mb-2 font-medium",children:"Assignee"}),e.jsx("input",{id:"assignee-input",type:"text",placeholder:"Company or organization name...",value:u,onChange:s=>p(s.target.value),onKeyDown:l,className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"inventor-input",className:"block text-slate-700 mb-2 font-medium",children:"Inventor"}),e.jsx("input",{id:"inventor-input",type:"text",placeholder:"Inventor name...",value:m,onChange:s=>f(s.target.value),onKeyDown:l,className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]})]})]}),e.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Trademark Filters"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"owner-input",className:"block text-slate-700 mb-2 font-medium",children:"Owner"}),e.jsx("input",{id:"owner-input",type:"text",placeholder:"Trademark owner...",value:x,onChange:s=>j(s.target.value),onKeyDown:l,className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state-input",className:"block text-slate-700 mb-2 font-medium",children:"State"}),e.jsx("input",{id:"state-input",type:"text",placeholder:"State (e.g., CA, NY)...",value:h,onChange:s=>v(s.target.value),onKeyDown:l,className:"w-full px-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:F,disabled:c||!n.trim(),className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-5 h-5 animate-spin"}),"Searching..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5"}),"Search IP"]})}),e.jsx("button",{onClick:I,disabled:c,className:"px-6 py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg transition-all disabled:opacity-50",children:"Clear All"})]})]})]})]})})]})]})}export{ee as AdvancedSearchPage};
